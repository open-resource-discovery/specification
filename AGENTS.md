# AI Agent Guidelines for Open Resource Discovery Specification

This document provides guidance for AI coding agents working on the Open Resource Discovery (ORD) specification project.

## Project Overview

Open Resource Discovery (ORD) is a protocol that allows applications and services to self-describe their exposed resources and capabilities. This repository contains:

- The ORD specification documentation (using Docusaurus)
- JSON Schema definitions for ORD Configuration and Document formats
- TypeScript type definitions and validators
- Example implementations and data

## Important: Generated Code

**DO NOT edit files in these directories - they are automatically generated:**

- `src/generated/` - Generated TypeScript types and validators from YAML schemas
- `dist/` - Build output for npm package distribution
- `build/` - Docusaurus static site build output
- `.docusaurus/` - Docusaurus internal cache

These directories are regenerated by running:
```bash
npm run generate
```

This command uses `@open-resource-discovery/spec-toolkit` to generate code from the YAML schema files in `spec/v1/`.

## Editable Source Files

You should focus on these areas when making changes:

### Schema Definitions (Primary Source of Truth)
- `spec/v1/*.schema.yaml` - ORD specification schemas (Configuration, Document)
- `spec/v1/*.ums.yaml` - UMS metadata overrides

### Documentation
- `docs/**/*.md` - Specification documentation, concepts, examples
- `README.md` - Main project README
- `CHANGELOG.md` - Version history and changes

### Source Code
- `src/index.ts` - Package entry point
- `src/helper/*.ts` - Helper utilities
- `src/theme/*` - Docusaurus theme customizations
- `docusaurus.config.js` - Docusaurus configuration
- `sidebars.js` - Documentation sidebar structure

### Configuration
- `package.json` - Dependencies and build scripts
- `tsconfig.json` - TypeScript configuration
- `spec-toolkit.config.json` - Schema generation configuration

### Examples
- `examples/**/*` - Example ORD configurations and documents

## Development Workflow

When making changes to the specification:

1. **Edit the YAML schemas** in `spec/v1/` if changing the spec structure
2. **Update documentation** in `docs/` to reflect changes
3. **Run generation** to update TypeScript types:
   ```bash
   npm run generate
   ```
4. **Build the project** to verify everything works:
   ```bash
   npm run build
   ```
5. **Test locally** with the development server:
   ```bash
   npm start
   ```

## Code Contribution Guidelines

Before contributing code, please review:

- `CONTRIBUTING.md` - General contribution guidelines
- `CONTRIBUTING_USING_GENAI.md` - AI-generated code contribution requirements
- `CODE_OF_CONDUCT.md` - Community guidelines

Key principles:
- Ensure AI tool compliance with open-source license requirements
- Use filtering features to avoid similar third-party code
- Properly attribute and license any third-party materials
- Follow employer policies if contributing in employment context

## Architecture Notes

### Documentation Generation
The project uses `@open-resource-discovery/spec-toolkit` to:
- Parse YAML schema files
- Generate TypeScript interfaces and types
- Create documentation markdown files
- Validate examples against schemas
- Generate UMS metadata

### Tech Stack
- **Docusaurus 3.x** - Documentation site generator
- **TypeScript** - Type-safe code generation
- **JSON Schema** (via YAML) - Specification definition format
- **npm** - Package management and distribution

## Testing Changes

Run these commands to verify your changes:

```bash
# Clean previous builds
npm run clean

# Generate types from schemas
npm run generate

# Build TypeScript
npm run build-ts

# Build documentation site
npm run build-docusaurus

# Or run all build steps
npm run build

# Start local dev server (with hot reload)
npm start
```

## Common Tasks

### Adding a New Example
1. Add example file to `examples/configuration/` or `examples/documents/`
2. Reference it in `spec-toolkit.config.json` if needed
3. Update documentation to reference the example

### Updating the Specification
1. Modify YAML schemas in `spec/v1/`
2. Run `npm run generate` to update generated code
3. Update related documentation in `docs/`
4. Update `CHANGELOG.md` with changes

### Adding Documentation
1. Create markdown files in appropriate `docs/` subdirectory
2. Update `sidebars.js` if adding new sections
3. Use Docusaurus features (admonitions, code blocks, etc.)

## Project Structure

```
.
├── spec/                    # YAML schema definitions (EDIT THIS)
│   └── v1/
├── docs/                    # Documentation content (EDIT THIS)
│   ├── spec-v1/
│   ├── spec-extensions/
│   └── help/
├── src/                     # Source code
│   ├── generated/          # ⚠️ DO NOT EDIT - Auto-generated
│   ├── helper/             # Helper utilities (EDIT THIS)
│   └── theme/              # Docusaurus theme (EDIT THIS)
├── examples/               # Example ORD data (EDIT THIS)
├── dist/                   # ⚠️ DO NOT EDIT - Build output
├── build/                  # ⚠️ DO NOT EDIT - Docusaurus output
└── static/                 # Static assets (images, CSS)
```

## Resources

- [ORD Specification Documentation](https://open-resource-discovery.github.io/specification/)
- [GitHub Repository](https://github.com/open-resource-discovery/specification)
- [ORD Reference Application](https://ord-reference-application.cfapps.sap.hana.ondemand.com/)
- [NeoNephos Foundation](https://neonephos.org/projects/open-resource-discovery-ord/)

## Questions or Issues?

Create a [GitHub issue](https://github.com/open-resource-discovery/specification/issues) for:
- Bug reports
- Feature requests
- Questions about the specification
- Documentation improvements
