/* Overlay gradient */
nav.navbar::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background: linear-gradient(180deg, rgba(8, 16, 18, 0.52) 0%, rgba(8, 16, 18, 0.32) 58%, rgba(8, 16, 18, 0) 100%);
  backdrop-filter: blur(var(--navbar-bg-blur)) saturate(140%);
  -webkit-backdrop-filter: blur(var(--navbar-bg-blur)) saturate(140%);
  opacity: 0 !important;
}

/* Sticky placement & z-index */
.navbar {
  position: sticky;
  top: 0;
  z-index: 2400 !important;
}

/* Unscrolled/home transparent */
html[data-nav-scrolled="0"] nav.navbar:not(.navbar-sidebar--show),
html:not([data-nav-scrolled="1"]) .navbar {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* Inner pages: show border already at scroll=0 */
html[data-nav-scrolled="0"]:not(:has(.ord-home-flag)) nav.navbar:not(.navbar-sidebar--show),
html:not([data-nav-scrolled="1"]):not(:has(.ord-home-flag)) .navbar {
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
}

html:not([data-nav-scrolled="1"]) .navbar::before {
  display: none !important;
}

/* Inner pages */
.navbar {
  background-color: var(--lp-c-bg) !important;
  opacity: var(--glass-alpha);
  backdrop-filter: blur(10px) saturate(140%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(140%) !important;
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
  z-index: 1000;
}

/* Scrolled state on any page */
html[data-nav-scrolled="1"] .navbar {
  background-color: var(--lp-c-bg) !important;
  border-bottom: 1px solid var(--nav-border-scrolled);
}
html[data-nav-scrolled="1"] .navbar::before {
  opacity: 0;
}

/* Light theme inner pages */
html[data-theme="light"] nav.navbar {
  background-color: var(--c-bg) !important;
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
}
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar:not(.navbar-sidebar--show) {
  background-color: var(--c-bg) !important;
  box-shadow: 0 2px 12px rgba(4, 13, 18, 0.04) !important;
}

/* Dark theme inner pages */
html[data-theme="dark"] nav.navbar {
  background-color: var(---lp-c-bg, #0f1419) !important;
  backdrop-filter: blur(10px) saturate(140%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(140%) !important;
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
  opacity: 1 !important;
}

/* Text colors when glass active */
.navbar__title,
.navbar__link {
  color: #fff !important;
  opacity: 0.95;
}
html[data-nav-scrolled="1"] :is(.navbar__title, .navbar__link) {
  color: #fff;
  opacity: 0.95;
}
html[data-theme="dark"] nav.navbar :is(.navbar__link, .header-github-pill) {
  color: var(--c-text, #e9eef1) !important;
}
/* Keep active green on scrolled */
html[data-nav-scrolled="1"] nav.navbar .navbar__link--active,
nav.navbar .navbar__link--active {
  color: var(--c-accent) !important;
}

/* Section: Light mode, unscrolled */
html[data-theme="light"][data-nav-scrolled="0"] nav.navbar .navbar__title {
  color: var(--lp-c-text-1) !important;
}
html[data-theme="light"][data-nav-scrolled="0"] nav.navbar :is(.navbar__link, .header-github-pill) {
  color: var(--lp-c-text-2) !important;
}
