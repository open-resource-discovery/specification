/*
 - Navbar base sizing and container
 - Navbar main container
 - Item rows and brand
 - Search container sizing
 - Brand and logo
 - Hide duplicated themed images
 - Dropdown link alignment
 - Title typography
 - Search field visuals and hint
 - GitHub pill in header
 - Sticky state, backdrop and scrolled styles
 - Right cluster and theme toggle
 - Light theme variations
 - Light theme when scrolled
*/

:root {
  --ifm-navbar-height: 60px;
}

nav.navbar {
  min-height: var(--ifm-navbar-height);
  height: var(--ifm-navbar-height);
  padding-top: 0;
  padding-bottom: 0;
  gap: var(--nav-gap);
  padding-inline: var(--nav-gap);
}
nav.navbar .navbar__inner {
  height: var(--ifm-navbar-height);
  min-height: var(--ifm-navbar-height);
  align-items: center;
}

nav.navbar .navbar__items,
nav.navbar .navbar__brand {
  height: 100%;
}

nav.navbar :is(.navbar__search, [class*="searchBarContainer_"]) {
  height: 36px;
  margin-top: 0;
  margin-bottom: 0;
  align-self: center;
}

/* Navbar base sizing and container */
nav.navbar .navbar__brand {
  display: flex;
  align-items: center;
  margin: 0 !important;
}
nav.navbar .navbar__logo {
  display: flex;
  align-items: center;
  line-height: 0;
}

/* Navbar main container */
nav.navbar .navbar__logo img {
  max-height: 36px;
  width: auto;
  height: 24px !important;
  object-fit: contain;
  display: block;
}
.navbar__logo > img:not(:first-child),
.navbar__logo img[class*="themedImage"] ~ img[class*="themedImage"] {
  display: none !important;
}
nav.navbar .navbar__title {
  height: 24px;
  line-height: 24px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 15px;
}

nav.navbar .dropdown > .navbar__link {
  height: 100%;
  display: inline-flex;
  align-items: center;
}

/* Brand and logo */
.navbar__logo {
  display: flex;
  align-items: center;
  margin-right: 0;
}

.navbar__title {
  line-height: 100%;
  font-weight: 700;
  letter-spacing: 0%;
  color: #e9eef1;
}

/* Search field visuals and hint */
.navbar :is(.navbar__search, [class*="searchbarContainer_"]) {
  position: relative;
  width: 160px;
  height: 32px;
  border-radius: 8px;
  margin: 3px 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #2b2f36 !important;
  box-shadow: none !important;
}
.navbar :is(input.navbar__search-input, input[class*="searchInput_"]) {
  flex: 1;
  min-width: 0;
  padding-left: 30px;
  background: transparent !important;
  color: #e0e6ea !important;
  border: 0;
  outline: none;
  font-size: 14px;
}
.navbar :is(input.navbar__search-input, input[class*="searchInput_"])::placeholder {
  color: #9ca3af;
  opacity: 0.9;
}
.navbar :is(.navbar__search, [class*="searchbarContainer_"])::before {
  content: "";
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  background: url("../../../img/icons/search.svg") center/contain no-repeat;
  opacity: 0.9;
}
.navbar :is([class*="searchHintContainer_"]) {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 27px;
  height: 18px;
  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;
  display: block !important;
  font-size: 0 !important;
}
.navbar :is([class*="searchHintContainer_"]) > * {
  display: none !important;
}
.navbar :is([class*="searchHintContainer_"])::before {
  content: "";
  display: block;
  width: 100%;
  height: 100%;
  background: url("../../../img/icons/cmd-k.svg") center/contain no-repeat;
}

/* search: prevent overflow, keep dropdown visible, reserve space for clear button */
nav.navbar :is(.navbar__search, [class*="searchbarContainer_"], [class*="searchBarContainer_"]),
.navbar-sidebar__search :is(.navbar__search, [class*="searchbarContainer_"], [class*="searchBarContainer_"]) {
  position: relative !important;
  min-width: 0 !important;
}

:is(nav.navbar, .navbar-sidebar__search) :is(.searchBar_RVTs, [class*="searchBar_"]) {
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  overflow: visible !important;
}

nav.navbar .searchBar_RVTs > input,
nav.navbar [class*="searchBar_"] > input,
nav.navbar input.navbar__search-input,
nav.navbar input[class*="searchInput_"],
.navbar-sidebar__search .searchBar_RVTs > input,
.navbar-sidebar__search [class*="searchBar_"] > input,
.navbar-sidebar__search input.navbar__search-input,
.navbar-sidebar__search input[class*="searchInput_"] {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  padding-right: 2rem !important;
}

[class*="searchClearButton"] {
  cursor: pointer;
}

[class*="searchClearButton"]:hover {
  opacity: 1;
}
[class*="navbarSearchContainer_"] {
  padding: 0 !important;
}
.navbar :is(.dropdownMenu_qbY6, [class*="dropdownMenu_"]) {
  background: var(--lp-button-alt-hover-bg);
  box-shadow: 0 6px 18px rgba(255, 255, 255, 0.08);
  color: var(--lp-button-alt-text);
}

.navbar__item,
.navbar__link {
  display: inline-flex;
  align-items: center;
  height: 40px;
  font-size: var(--nav-link-size);
  font-weight: var(--fw-nav);
  letter-spacing: -0.0001em;
}
nav.navbar a.navbar__link:hover {
  color: var(--c-accent) !important;
  font-weight: var(--fw-nav-hover);
}
/* Hide duplicated themed images */
nav.navbar .navbar__link::after {
  display: none !important;
}
#__docusaurus nav.navbar a.navbar__link--active,
#__docusaurus nav.navbar a.navbar__link.active,
#__docusaurus nav.navbar a.navbar__link:hover,
#__docusaurus nav.navbar a.navbar__link[aria-current="page"] {
  color: var(--c-accent) !important;
  font-weight: var(--fw-nav-active);
}
nav.navbar .dropdown__menu a.dropdown__link:hover,
nav.navbar .dropdown__menu a.dropdown__link--active,
nav.navbar .dropdown__menu a[aria-current="page"] {
  color: var(--c-text) !important;
}
.header-github-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: auto;
  padding: 0;
  border: 0;
  background: transparent !important;
  box-shadow: none !important;
  color: #e9eef1;
  font-weight: var(--fw-header-pill);
  text-decoration: none;
}
/* GitHub pill in header */
.header-github-pill::before {
  content: "";
  width: 20px;
  height: 20px;
  display: inline-block;
  background-color: currentColor;
  -webkit-mask: url("../../../img/icons/github.svg") center/contain no-repeat;
  mask: url("../../../img/icons/github.svg") center/contain no-repeat;
}
.header-github-pill:hover {
  color: #fff;
  font-weight: var(--fw-header-pill-hover);
}
.header-github-pill > svg {
  display: none !important;
}
.header-github-pill:active,
.header-github-pill[aria-current="page"],
.header-github-pill:focus-visible {
  font-weight: var(--fw-header-pill-active);
}

nav.navbar::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background: linear-gradient(180deg, rgba(8, 16, 18, 0.52) 0%, rgba(8, 16, 18, 0.32) 58%, rgba(8, 16, 18, 0) 100%);
  backdrop-filter: blur(var(--navbar-bg-blur)) saturate(140%);
  -webkit-backdrop-filter: blur(var(--navbar-bg-blur)) saturate(140%);
  opacity: 0 !important;
}
.navbar {
  position: sticky;
  top: 0;
  z-index: 2400 !important;
  background-color: var(--lp-c-bg) !important;
  opacity: var(--glass-alpha);
  backdrop-filter: blur(10px) saturate(140%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(140%) !important;
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
  z-index: 1000;
}
html[data-nav-scrolled="0"] nav.navbar:not(.navbar-sidebar--show),
html:not([data-nav-scrolled="1"]) .navbar {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}
html[data-nav-scrolled="0"]:not(:has(.ord-home-flag)) nav.navbar:not(.navbar-sidebar--show),
html:not([data-nav-scrolled="1"]):not(:has(.ord-home-flag)) .navbar {
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
}
html:not([data-nav-scrolled="1"]) .navbar::before {
  display: none !important;
}
html[data-nav-scrolled="1"] .navbar {
  background-color: var(--lp-c-bg) !important;
  border-bottom: 1px solid var(--nav-border-scrolled);
}
html[data-nav-scrolled="1"] .navbar::before {
  opacity: 0;
}
html[data-theme="light"] nav.navbar {
  background-color: var(--c-bg) !important;
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
}
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar:not(.navbar-sidebar--show) {
  background-color: var(--c-bg) !important;
  box-shadow: 0 2px 12px rgba(4, 13, 18, 0.04) !important;
}
/* Light theme when scrolled */
html[data-theme="dark"] nav.navbar {
  background-color: var(--c-bg, #1b1b1f) !important;
  backdrop-filter: blur(10px) saturate(140%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(140%) !important;
  border-bottom: 1px solid var(--nav-border-scrolled) !important;
  opacity: 1 !important;
}
html[data-theme="dark"][data-nav-scrolled="1"] nav.navbar:not(.navbar-sidebar--show) {
  background-color: var(--c-bg, #1b1b1f) !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}
.navbar__title,
.navbar__link {
  color: #fff !important;
  opacity: 0.95;
}
html[data-nav-scrolled="1"] :is(.navbar__title, .navbar__link) {
  color: #fff;
  opacity: 0.95;
}
html[data-theme="dark"] nav.navbar :is(.navbar__link, .header-github-pill) {
  color: var(--c-text, #e9eef1) !important;
}
html[data-nav-scrolled="1"] nav.navbar .navbar__link--active,
nav.navbar .navbar__link--active {
  color: var(--c-accent) !important;
}
html[data-theme="light"][data-nav-scrolled="0"] nav.navbar .navbar__title {
  color: var(--lp-c-text-1) !important;
}
html[data-theme="light"][data-nav-scrolled="0"] nav.navbar :is(.navbar__link, .header-github-pill) {
  color: var(--lp-c-text-2) !important;
}

nav.navbar .navbar__items--right {
  display: flex !important;
  align-items: center;
  justify-content: flex-end;
  gap: clamp(8px, 1.2vw, 16px);
  margin: 0;
  padding: 0;
}
nav.navbar .navbar__items--right {
  gap: clamp(8px, 1.2vw, 16px) !important;
}
nav.navbar .navbar__items--right > * {
  margin-left: 0 !important;
}

/* Right cluster and theme toggle */
.navbar__items--left {
  display: flex;
  align-items: center;
  gap: var(--nav-gap);
  flex: 1;
}
.navbar__items--right {
  gap: 0 !important;
}
.header-github-pill + [class*="navbarSearchContainer_"] {
  margin-left: 8px !important;
}
.navbar__items--right [class*="toggleButton_"] {
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: transparent !important;
  border: 1px solid transparent;
  color: var(--c-text);
  cursor: pointer;
  transition:
    color 0.2s ease,
    border-color 0.2s ease,
    background-color 0.2s ease;
}
nav.navbar [class*="toggleButton_"] {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
}
/* Focus state removal for theme toggle */
nav.navbar [class*="toggleButton_"]:focus,
nav.navbar [class*="toggleButton_"]:focus-visible {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
}
@media (min-width: 997px) {
  nav.navbar [class*="darkToggleIcon_"] {
    transform: translateY(-2px);
  }
  nav.navbar .navbar__items--right [class*="toggleButton_"]:hover [class*="toggleIcon_"] {
    color: var(--c-accent);
    filter: drop-shadow(0 0 6px color-mix(in oklab, var(--c-accent) 60%, transparent));
    transition:
      color 0.2s ease,
      filter 0.2s ease;
  }
  nav.navbar .navbar__items--right [class*="toggleButton_"]:active [class*="toggleIcon_"] {
    filter: drop-shadow(0 0 8px color-mix(in oklab, var(--c-accent) 80%, transparent));
  }
}
/* Light theme variations */
html[data-theme="light"] nav.navbar {
  background: transparent !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
}

html[data-theme="light"] nav.navbar .navbar__title {
  color: var(--lp-c-text-1);
}
html[data-theme="light"] nav.navbar .navbar__link,
html[data-theme="light"] nav.navbar .header-github-pill {
  color: var(--lp-c-text-2);
}
html[data-theme="light"] nav.navbar .navbar__link:hover,
html[data-theme="light"] nav.navbar .navbar__link--active {
  color: var(--lp-c-text-1);
}

html[data-theme="light"] nav.navbar .header-github-pill:hover::before,
html[data-theme="light"] nav.navbar .header-github-pill[aria-current="page"]::before {
  filter: none !important;
}

html[data-theme="light"] nav.navbar .navbar__toggle {
  color: var(--lp-c-text-2);
}

html[data-theme="light"] nav.navbar :is(.navbar__search, [class*="searchBarContainer_"]) {
  background: #eef3f6 !important;
  border-radius: 8px;
}
html[data-theme="light"] nav.navbar :is(input.navbar__search-input, input[class*="searchInput_"]) {
  color: var(--lp-c-text-2) !important;
}
html[data-theme="light"] nav.navbar :is(input.navbar__search-input, input[class*="searchInput_"])::placeholder {
  color: color-mix(in oklab, var(--lp-c-text-2) 60%, #fff);
}

html[data-theme="light"] nav.navbar .dropdown__menu {
  background: #fff;
  border: 1px solid var(--lp-c-border);
  box-shadow: var(--shadow-md, 0 10px 30px rgba(4, 13, 18, 0.08));
}
html[data-theme="light"] nav.navbar .dropdown__link {
  color: var(--lp-c-text-2);
}
html[data-theme="light"] nav.navbar .dropdown__link:hover,
html[data-theme="light"] nav.navbar .dropdown__link--active,
html[data-theme="light"] nav.navbar .dropdown__link[aria-current="page"] {
  color: var(--lp-c-text-1);
  background: var(--lp-c-bg-soft);
}

html[data-theme="light"] nav.navbar .header-github-pill {
  font-weight: var(--fw-header-pill);
}
html[data-theme="light"] nav.navbar .header-github-pill > svg {
  display: none !important;
}

html[data-theme="light"] nav.navbar .header-github-pill:hover {
  font-weight: var(--fw-header-pill-hover);
}

html[data-theme="light"][data-nav-scrolled="1"] nav.navbar {
  background-color: var(--c-bg) !important;
  border-bottom: 1px solid var(--nav-border-scrolled);
  box-shadow: 0 2px 12px rgba(4, 13, 18, 0.04);
  opacity: 1 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

html[data-theme="light"][data-nav-scrolled="1"] nav.navbar::before {
  opacity: 0 !important;
}

html[data-theme="light"][data-nav-scrolled="1"] nav.navbar .navbar__title {
  color: var(--c-text-strong) !important;
  opacity: 1 !important;
}
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar .navbar__link,
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar .header-github-pill {
  color: var(--c-text) !important;
  opacity: 1 !important;
}
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar .navbar__link:hover,
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar .navbar__link--active {
  color: var(--c-text-strong) !important;
}

html[data-theme="light"][data-nav-scrolled="1"] nav.navbar .navbar__toggle {
  color: var(--c-text) !important;
}

html[data-theme="light"][data-nav-scrolled="1"] nav.navbar :is(.navbar__search, [class*="searchBarContainer_"]) {
  background: #eef3f6 !important;
  border-radius: 8px;
}
html[data-theme="light"][data-nav-scrolled="1"]
  nav.navbar
  :is(input.navbar__search-input, input[class*="searchInput_"]) {
  color: var(--lp-c-text-2) !important;
}

html[data-theme="light"] nav.navbar :is([class*="colorModeToggle"], [class*="toggle_"]) {
  display: inline-flex;
  align-items: center;
}
html[data-theme="light"] nav.navbar [class*="toggleButton"] {
  display: inline-flex;
  width: 36px;
  height: 36px;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  background: transparent !important;
  border: 1px solid transparent;
  color: var(--lp-c-text-2);
  margin: 0;
  line-height: 1;
}
html[data-theme="light"] nav.navbar [class*="toggleButton"]:hover {
  color: var(--lp-c-text-1);
  border-color: color-mix(in oklab, var(--lp-c-border) 60%, transparent);
}
html[data-theme="light"] nav.navbar [class*="toggleButton"]:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--lp-c-brand-2) 60%, #fff);
  outline-offset: 2px;
  border-color: transparent;
}
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar [class*="toggleButton"] {
  color: var(--c-text);
  background: transparent !important;
  border-color: transparent;
}
html[data-theme="light"][data-nav-scrolled="1"] nav.navbar [class*="toggleButton"]:hover {
  color: var(--c-text-strong);
}
html[data-theme="light"] nav.navbar .header-github-pill::before {
  filter: none !important;
}
nav.navbar .header-github-pill > svg,
nav.navbar .header-github-pill [class*="iconExternalLink"] {
  filter: none !important;
}
html[data-theme="light"] .navbar [class*="searchHintContainer_"] {
  filter: invert(1) opacity(0.95);
}
html[data-theme="light"] :is(nav.navbar, .navbar-sidebar) :is(.navbar__search, [class*="searchBarContainer_"])::before {
  filter: invert(1) opacity(0.95);
}
html[data-theme="light"] :is(nav.navbar, .navbar-sidebar) :is(.navbar__search, [class*="searchBarContainer_"]) svg {
  filter: invert(1) opacity(0.95);
}
html[data-theme="light"]
  :is(nav.navbar, .navbar-sidebar)
  :is(.navbar__search, [class*="searchBarContainer_"])[class*="focused_"]::before {
  filter: invert(1) opacity(1);
}
html[data-theme="light"][data-nav-scrolled="1"]
  nav.navbar
  :is(.navbar__search, [class*="searchBarContainer_"])::before {
  filter: invert(1) opacity(0.95);
}
