apiVersion: 'metadata-service.resource.api.sap/v6alpha1'
type: 'MetadataType'
metadata:
  name: 'eventcompatibility'
  path: '/sap/core/ucl/metadata/ord/v1'
  labels: {}
spec:
  typeName: 'EventCompatibility'
  key:
    - 'id'
  visibility: 'public'
  embedded: true
  description: 'Describes the compatibility of the Event with other Events. This can be used to express that an Event is compatible with another Event version.'
  metadataProperties:
    - name: 'id'
      type: 'guid'
      mandatory: true
      unique: true
      description: 'UMS ID (globally unique), used for relations.'
    - name: 'ordId'
      type: 'string'
      description: "ORD ID of the EventResource that serves as contract that this resource is compatible with.\n\nMUST be a valid reference to an (usually external) [Event Resource](#event-resource) ORD ID."
      mandatory: true
      constraints:
        maxLength: 255
        pattern: '^([a-z0-9]+(?:[.][a-z0-9]+)*):(eventResource):([a-zA-Z0-9._\-]+):(v0|v[1-9][0-9]*)$'
    - name: 'maxVersion'
      type: 'string'
      description: "Specifies the maximum version of the interface contract that this resource is compatible with. This is the version, that the resource fully implements and supports.\n\nEven if the interface contract evolves compatible, this resource will not be compatible with versions beyond the specified one. It is important to consider, given the example of an event version 1.0, that has the fields A and B. Being compatible with version 1.0 means to have exactly the fields A and B and potential tenant specific extensions in a dedicated namespace.\nIf an event contract changes to version 1.1 compatible by adding field C, the event declaring compatibility towards 1.0, will miss field C. Only if adopting the contract of 1.1 with having fields A, B, and C, such an event is also\ncompatible with version 1.1 of the contract. However, a client relying on version 1.0 of the contract, can still work with the event being compatible with version 1.1 of the contract.\n\nFollowing the [Semantic Versioning 2.0.0](https://semver.org/) standard, patch versions (x.y.Z) must not have impact on the schema/contract. Therefore, the maxVersion are only the major.minor parts of a semantic version."
      mandatory: true
      constraints:
        pattern: '^(0|[1-9]\d*)\.(0|[1-9]\d*)$'
  customTypeDefinitions: []
  metadataRelations: []
