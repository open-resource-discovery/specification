"use strict";(self.webpackChunk_open_resource_discovery_specification=self.webpackChunk_open_resource_discovery_specification||[]).push([[6015],{3210:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/ord-explicit-system-perspectives.drawio-1fbc0515d31cd96df0b00dbd83a176e6.svg"},7534:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/ord-explicit-system-persectices-flow.drawio-7bac099e3500332c58d22793389bf981.svg"},8453:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>a});var i=t(6540);const n={},r=i.createContext(n);function c(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),i.createElement(r.Provider,{value:s},e.children)}},8549:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"spec-v1/concepts/perspectives","title":"Perspectives","description":"Metadata can be described from static or dynamic perspectives. This article explains the concept in more detail.","source":"@site/docs/spec-v1/concepts/perspectives.md","sourceDirName":"spec-v1/concepts","slug":"/spec-v1/concepts/perspectives","permalink":"/spec-v1/concepts/perspectives","draft":false,"unlisted":false,"editUrl":"https://github.com/open-resource-discovery/specification/tree/main/docs/spec-v1/concepts/perspectives.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"description":"Metadata can be described from static or dynamic perspectives. This article explains the concept in more detail."},"sidebar":"specV1Sidebar","previous":{"title":"Integration Dependency","permalink":"/spec-v1/concepts/integration-dependency"},"next":{"title":"System Landscape Model","permalink":"/spec-v1/concepts/system-landscape-model"}}');var n=t(4848),r=t(8453);const c={sidebar_position:5,description:"Metadata can be described from static or dynamic perspectives. This article explains the concept in more detail."},a="Perspectives",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Static Perspective",id:"static-perspective",level:3},{value:"System Version Guidelines",id:"system-version-guidelines",level:4},{value:"Dynamic Perspective",id:"dynamic-perspective",level:3},{value:"System Independent Perspective",id:"system-independent-perspective",level:3},{value:"How Perspectives relate to each other",id:"how-perspectives-relate-to-each-other",level:3},{value:"Relation to System-Instance-Aware",id:"relation-to-system-instance-aware",level:3},{value:"ORD Provider Considerations",id:"ord-provider-considerations",level:2},{value:"ORD Aggregator Considerations",id:"ord-aggregator-considerations",level:2},{value:"Static Aggregators",id:"static-aggregators",level:4},{value:"Dynamic Aggregators",id:"dynamic-aggregators",level:4}];function l(e){const s={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"perspectives",children:"Perspectives"})}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:["\u23e9 The technical requirements of this are described in the ",(0,n.jsx)(s.a,{href:"/spec-v1/#perspectives",children:"specification section on perspectives"}),"."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(s.p,{children:"An application or service can be described both from a static or a dynamic perspective. The configuration endpoint can point to different ORD documents that represent the information from the different perspectives."}),"\n",(0,n.jsx)(s.h3,{id:"static-perspective",children:"Static Perspective"}),"\n",(0,n.jsxs)(s.p,{children:["The static ",(0,n.jsx)(s.code,{children:"system-version"})," or ",(0,n.jsx)(s.code,{children:"system-type"})," perspective describes how an application or services looks like ",(0,n.jsx)(s.em,{children:"in general"})," at design-time.\nThis perspective is especially useful for customers, who haven't purchased a product yet and need to understand what technical capabilities they would get.\nIt also helps to understand the common baseline of what all systems of the same type provide and how it changes over time."]}),"\n",(0,n.jsxs)(s.p,{children:["In ORD, we describe this with ",(0,n.jsx)(s.code,{children:"perspective"}),": ",(0,n.jsx)(s.code,{children:"system-version"}),', to hint at the fact that the static metadata is usually version dependent.\nStatic metadata is known at design-time or deploy-time, when a new version of an application or service is developed or provisioned.\nFor cloud software with continuous delivery, the version may not be explicit or of interest to the consumer, a fallback to a "latest" version may be needed.\nBut consider that also cloud software that is going through phased deployments therefore can have multiple versions active at the same time.']}),"\n",(0,n.jsxs)(s.p,{children:["In the case that the system is not versioned (continuous delivery) or resources do not relate to a system directly, the ",(0,n.jsx)(s.code,{children:"system-type"})," perspective can be used.\nThe ",(0,n.jsx)(s.code,{children:"system-type"})," information apply no matter which system version or instance is used."]}),"\n",(0,n.jsxs)(s.p,{children:["The static perspective describes the shared metadata of all system instances (tenants) of the same system version or version independent.\nEither the metadata is always the same or it explicitly ignores the tenant-specific extensibility, configuration and any feature toggles - describing what's generic and shared.\nThe advantage of static metadata is that it is always available, there is no need to first provision tenants to get it. It is also a good integration contract for everything that is meant to work potentially with ",(0,n.jsx)(s.em,{children:"any"})," tenant."]}),"\n",(0,n.jsxs)(s.p,{children:["At SAP, we have the ",(0,n.jsx)(s.a,{href:"https://api.sap.com/",children:"SAP Business Accelerator Hub"})," that documents the static perspective."]}),"\n",(0,n.jsx)(s.h4,{id:"system-version-guidelines",children:"System Version Guidelines"}),"\n",(0,n.jsxs)(s.p,{children:["Versions and Lifecycle is often difficult. Putting a version on a system is not always straightforward.\nHere are some guidelines how to choose the correct version for the ",(0,n.jsx)(s.code,{children:"system-version"})," perspective:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:'If the system has explicit versions (e.g. "v1.0.1", "v2.0.0"), use these versions.'}),"\n",(0,n.jsxs)(s.li,{children:["If the system does not use SemVer, it has to be converted so that SemVer conventions apply (conservatively).","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:'E.g. if the system uses simple incremental versions like "1", "2" or "2404, convert these to "1.0.0", "2.0.0", "2404.0.0" respectively.'}),"\n",(0,n.jsx)(s.li,{children:'E.g. if the system uses date-based versions like "2024-01-15", convert these to "2024.1.15".'}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["If the system is continuously delivered and does not have explicit versions at all, use the ",(0,n.jsx)(s.code,{children:"system-type"})," perspective instead.","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["However, consider that you may still have different releases rolled out over time and on different stages. If this causes a problem, use ",(0,n.jsx)(s.code,{children:"system-version"})," with below conventions."]}),"\n",(0,n.jsxs)(s.li,{children:["Alternatively, use a fixed ",(0,n.jsx)(s.code,{children:"1.0.0"})," version and overwrite it with every new release."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"dynamic-perspective",children:"Dynamic Perspective"}),"\n",(0,n.jsxs)(s.p,{children:["The dynamic perspective describes an application or service as it really looks like, ",(0,n.jsx)(s.em,{children:"at run-time"}),".\nThis is more precise than the static perspective, because it can reflect configuration, customization and extensions of the system instance (tenant)."]}),"\n",(0,n.jsxs)(s.p,{children:["In ORD, we describe this with ",(0,n.jsx)(s.code,{children:"perspective"}),": ",(0,n.jsx)(s.code,{children:"system-instance"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"system-instance"}),' perspective is the correct choice, when the resource description or its metadata is actually different between system instances of the same system version.\nWhen used, the perspective completely describes the running system instance as it is.\nIt is not a "diff" on the static perspective, for this we may consider introducing a specialized ',(0,n.jsx)(s.code,{children:"system-instance-delta"})," perspective as optimization later."]}),"\n",(0,n.jsx)(s.p,{children:"Some examples when metadata can be dynamic:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"APIs or Events can be activated and deactivated per system instance / tenant."}),"\n",(0,n.jsx)(s.li,{children:"API or Event interfaces can be extended, e.g. through field extensibility."}),"\n",(0,n.jsx)(s.li,{children:"New resources can be created by the user of the application at run-time (typical situation for frameworks, platforms and extensible applications)."}),"\n",(0,n.jsx)(s.li,{children:"Endpoint URLs may be dynamic"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["At SAP, the run-time discovery of dynamic metadata (system-installation) is handled by the ",(0,n.jsx)(s.a,{href:"/introduction#unified-customer-landscape",children:"Unified Customer Landscape"})," in BTP."]}),"\n",(0,n.jsx)(s.h3,{id:"system-independent-perspective",children:"System Independent Perspective"}),"\n",(0,n.jsxs)(s.p,{children:["Some ORD information like Taxonomies, Products and Vendors is not dependent on systems and can use the ",(0,n.jsx)(s.code,{children:"system-independent"})," perspective.\nThey can be considered global, static content that can be shared by multiple systems."]}),"\n",(0,n.jsx)(s.p,{children:'Such content is of a "singleton" quality for the whole ORD aggregator and SHOULD not be republished by the individual systems.'}),"\n",(0,n.jsx)(s.h3,{id:"how-perspectives-relate-to-each-other",children:"How Perspectives relate to each other"}),"\n",(0,n.jsx)(s.p,{children:"The dynamic perspective is a more precise description of the system instance than the static perspective, as it can contain its customizations.\nIf no dynamic perspective has been published for a system instance, the static perspective can be used as the fallback."}),"\n",(0,n.jsx)(s.p,{children:"This is depicted in the following diagram:"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Perspectives to Relation",src:t(3210).A+"",title:"Perspectives Relation"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"system-instance"})," perspective is the most specific, because a consumer could ask how a particular system instance / tenant really looks like. If there is system-instance metadata for it, we can return it directly.\nIf we don't have it, we need to fall back to the ",(0,n.jsx)(s.code,{children:"system-version"})," layer and instead return the metadata for the version of the system instance."]}),"\n",(0,n.jsxs)(s.p,{children:['If we don\'t know the version of a system, we can introduce a "virtual" ',(0,n.jsx)(s.code,{children:"system-type"})," perspective that doesn't have to be explicitly published.\nThe aggregator can treat the latest ",(0,n.jsx)(s.code,{children:"system-version"})," as the ",(0,n.jsx)(s.code,{children:"system-type"})," perspective and return it to represent the system type overall."]}),"\n",(0,n.jsx)(s.p,{children:"A consumer can legitimately be interested in all three levels, but he needs to provide a different context for each:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["If ",(0,n.jsx)(s.code,{children:"system-instance"})," metadata is requested, the tenant / system instance ID needs to be specified"]}),"\n",(0,n.jsxs)(s.li,{children:["If ",(0,n.jsx)(s.code,{children:"system-version"})," metadata is requested, the system type and system version must be specified."]}),"\n",(0,n.jsxs)(s.li,{children:["If ",(0,n.jsx)(s.code,{children:"system-type"})," metadata is requested, only the system type must be specified and the latest system version is returned."]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"relation-to-system-instance-aware",children:"Relation to System-Instance-Aware"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"perspectives"})," attribute deprecates the ",(0,n.jsx)(s.code,{children:"systemInstanceAware"})," attribute."]}),"\n",(0,n.jsxs)(s.p,{children:["With ",(0,n.jsx)(s.code,{children:"systemInstanceAware"})," it was already possible to define whether metadata was dynamic (different per system instance) or not.\nBut the concept did not allow to describe the same resource in different perspectives and also did not define how the perspectives build upon each other."]}),"\n",(0,n.jsx)(s.h2,{id:"ord-provider-considerations",children:"ORD Provider Considerations"}),"\n",(0,n.jsx)(s.p,{children:"The following diagram gives an overview which perspectives need to be described by an ORD Provider:"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Perspectives to Provide",src:t(7534).A+"",title:"Perspectives to Provide"})}),"\n",(0,n.jsxs)(s.p,{children:["If the system has only static metadata, it should explicitly use the ",(0,n.jsx)(s.code,{children:"system-version"})," perspective and state its version (",(0,n.jsx)(s.code,{children:"describedSystemVersion"}),").\nIf the system has dynamic metadata, it should describe both perspectives completely, if possible."]}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:["\u23e9 See also: ",(0,n.jsx)(s.a,{href:"/spec-v1/#correct-use-of-perspectives",children:"Correct Use of Perspectives"}),"."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"ord-aggregator-considerations",children:"ORD Aggregator Considerations"}),"\n",(0,n.jsx)(s.h4,{id:"static-aggregators",children:"Static Aggregators"}),"\n",(0,n.jsxs)(s.p,{children:["Static aggregators describe the static perspectives: ",(0,n.jsx)(s.code,{children:"system-type"})," and/or ",(0,n.jsx)(s.code,{children:"system-version"}),"."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["If both static and dynamic perspectives are described, it MUST only pick the static perspectives (",(0,n.jsx)(s.code,{children:"system-type"})," or ",(0,n.jsx)(s.code,{children:"system-version"}),")"]}),"\n",(0,n.jsxs)(s.li,{children:["If only ",(0,n.jsx)(s.code,{children:"system-instance"})," (or unspecified) perspective is available, we assume this is a generic system instance which is meant to describe all system instances as a subsidiary"]}),"\n",(0,n.jsxs)(s.li,{children:["When aggregating ",(0,n.jsx)(s.code,{children:"system-type"})," perspective, the aggregator MAY derive it from the latest ",(0,n.jsx)(s.code,{children:"system-version"})," if not explicitly provided"]}),"\n"]}),"\n",(0,n.jsx)(s.h4,{id:"dynamic-aggregators",children:"Dynamic Aggregators"}),"\n",(0,n.jsx)(s.p,{children:"If the aggregator supports both static and dynamic perspectives:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["The ORD aggregator must be able to aggregate and store all perspectives (",(0,n.jsx)(s.code,{children:"system-type"}),", ",(0,n.jsx)(s.code,{children:"system-version"}),", and ",(0,n.jsx)(s.code,{children:"system-instance"}),") at the same time."]}),"\n",(0,n.jsxs)(s.li,{children:["In its ORD Discovery API for consumers, it needs to implement the inheritance / fallback behavior:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["When ",(0,n.jsx)(s.code,{children:"system-instance"})," is requested but not available, fall back to ",(0,n.jsx)(s.code,{children:"system-version"})]}),"\n",(0,n.jsxs)(s.li,{children:["When ",(0,n.jsx)(s.code,{children:"system-version"})," is requested but not available (or version is unknown), fall back to ",(0,n.jsx)(s.code,{children:"system-type"})]}),"\n",(0,n.jsxs)(s.li,{children:["The aggregator MAY derive ",(0,n.jsx)(s.code,{children:"system-type"})," from the latest ",(0,n.jsx)(s.code,{children:"system-version"})," if not explicitly provided"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["If the ",(0,n.jsx)(s.code,{children:"system-version"})," perspective is used, the described version MUST be provided via the ORD ",(0,n.jsx)(s.code,{children:"describedSystemVersion"}),".",(0,n.jsx)(s.code,{children:"version"})," property.\nFor the ",(0,n.jsx)(s.code,{children:"system-type"})," perspective, the version property is NOT required as this perspective is version-independent.\nIdeally, ORD providers SHOULD define the ",(0,n.jsx)(s.code,{children:"describedSystemVersion"}),".",(0,n.jsx)(s.code,{children:"version"})," property on both the ",(0,n.jsx)(s.code,{children:"system-version"})," and ",(0,n.jsx)(s.code,{children:"system-instance"})," perspectives."]}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"version"}),' becomes effectively the "join" criteria for how the dynamic metadata is associated to the version-specific static metadata.']}),"\n",(0,n.jsx)(s.p,{children:"Some additional considerations that need to be looked into:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["An older version of an application / service can have a resource which has been decommissioned (via a ",(0,n.jsx)(s.code,{children:"Tombstone"}),") in a newer version.","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"The inheritance / fallback logic MUST not fall back to the now removed resource."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);