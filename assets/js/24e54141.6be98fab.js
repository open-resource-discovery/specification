"use strict";(self.webpackChunk_open_resource_discovery_specification=self.webpackChunk_open_resource_discovery_specification||[]).push([[6015],{3210:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/ord-explicit-system-perspectives.drawio-2cb5c8c957390cd891ec6a2229ec6d19.svg"},7534:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/ord-explicit-system-persectices-flow.drawio-7bac099e3500332c58d22793389bf981.svg"},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>a});var i=s(6540);const n={},c=i.createContext(n);function r(e){const t=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(c.Provider,{value:t},e.children)}},8549:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"spec-v1/concepts/perspectives","title":"Exposure Perspectives","description":"Metadata can be described from static or dynamic perspectives. This Article explains the concept in more detail.","source":"@site/docs/spec-v1/concepts/perspectives.md","sourceDirName":"spec-v1/concepts","slug":"/spec-v1/concepts/perspectives","permalink":"/specification/spec-v1/concepts/perspectives","draft":false,"unlisted":false,"editUrl":"https://github.com/open-resource-discovery/specification/tree/main/docs/spec-v1/concepts/perspectives.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"description":"Metadata can be described from static or dynamic perspectives. This Article explains the concept in more detail."},"sidebar":"specV1Sidebar","previous":{"title":"Integration Dependency","permalink":"/specification/spec-v1/concepts/integration-dependency"},"next":{"title":"System Landscape Model","permalink":"/specification/spec-v1/concepts/system-landscape-model"}}');var n=s(4848),c=s(8453);const r={sidebar_position:5,description:"Metadata can be described from static or dynamic perspectives. This Article explains the concept in more detail."},a="Exposure Perspectives",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Static Perspective",id:"static-perspective",level:3},{value:"Dynamic Perspective",id:"dynamic-perspective",level:3},{value:"System Independent Perspective",id:"system-independent-perspective",level:3},{value:"How Perspectives relate to each other",id:"how-perspectives-relate-to-each-other",level:3},{value:"Relation to system instance aware",id:"relation-to-system-instance-aware",level:3},{value:"ORD Provider Considerations",id:"ord-provider-considerations",level:2},{value:"ORD Aggregator Considerations",id:"ord-aggregator-considerations",level:2},{value:"Static Aggregators",id:"static-aggregators",level:4},{value:"Dynamic Aggregators",id:"dynamic-aggregators",level:4}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",ul:"ul",...(0,c.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"exposure-perspectives",children:"Exposure Perspectives"})}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["\u23e9 The technical requirements of this are described in the ",(0,n.jsx)(t.a,{href:"/specification/spec-v1/#perspectives",children:"specification section on perspectives"}),"."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(t.p,{children:"An application or service can be described both from a static or a dynamic perspective. The configuration endpoint can point to different ORD documents that represent the information from the different perspectives."}),"\n",(0,n.jsx)(t.h3,{id:"static-perspective",children:"Static Perspective"}),"\n",(0,n.jsxs)(t.p,{children:["The static ",(0,n.jsx)(t.code,{children:"system-version"})," perspective describes how an application or services looks like ",(0,n.jsx)(t.em,{children:"in general"})," at design-time.\nThis perspective is especially useful for customers, who haven't purchased a product yet and need to understand what technical capabilities they would get.\nIt also helps to understand the common baseline of what all systems of the same type provide and how it changes over time."]}),"\n",(0,n.jsxs)(t.p,{children:["In ORD, we describe this with ",(0,n.jsx)(t.code,{children:"perspective"}),": ",(0,n.jsx)(t.code,{children:"system-version"}),', to hint at the fact that the static metadata is usually version dependent.\nStatic metadata is known at design-time or deploy-time, when a new version of an application or service is developed or provisioned.\nFor cloud software with continuous delivery, the version may not be explicit or of interest to the consumer, a fallback to a "latest" version may be needed.\nBut consider that also cloud software that is going through phased deployments therefore can have multiple versions active at the same time.']}),"\n",(0,n.jsxs)(t.p,{children:["The static perspective describes the shared metadata of all system instances (tenants) of the same system version.\nEither the metadata is always the same or it explicitly ignores the tenant-specific extensibility, configuration and any feature toggles - describing what's generic and shared.\nThe advantage of static metadata is that is always available, there is no need to first provision tenants to get it. It is also a good integration contract for everything that is meant to work potentially with ",(0,n.jsx)(t.em,{children:"any"})," tenant."]}),"\n",(0,n.jsxs)(t.p,{children:["At SAP, we have the ",(0,n.jsx)(t.a,{href:"https://api.sap.com/",children:"SAP Business Accelerator Hub"})," that documents the static perspective."]}),"\n",(0,n.jsx)(t.h3,{id:"dynamic-perspective",children:"Dynamic Perspective"}),"\n",(0,n.jsxs)(t.p,{children:["The dynamic perspective describes an application or service how it really looks like, ",(0,n.jsx)(t.em,{children:"at run-time"}),".\nThis is more precise than the static perspective, because it can reflect configuration, customization and extensions of the system instance (tenant)."]}),"\n",(0,n.jsxs)(t.p,{children:["In ORD, we describe this with ",(0,n.jsx)(t.code,{children:"perspective"}),": ",(0,n.jsx)(t.code,{children:"system-instance"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"system-instance"}),' perspective is the correct choice, when the resource description or its metadata is actually different between system instances of the same system version.\nWhen used, the perspective completely describes the running system instance as it is.\nIt is not a "diff" on the static perspective, for this we may consider introducing a specialized ',(0,n.jsx)(t.code,{children:"system-instance-delta"})," perspective as optimization later."]}),"\n",(0,n.jsx)(t.p,{children:"Some examples when metadata can be dynamic:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"APIs or Events can be activated and deactivated per system instance / tenant."}),"\n",(0,n.jsx)(t.li,{children:"APIs or Events interfaces can be extended, e.g. through field extensibility."}),"\n",(0,n.jsx)(t.li,{children:"New resources can be created by the user of the application at run-time (typical situation for frameworks, platforms and extensible applications)."}),"\n",(0,n.jsx)(t.li,{children:"Endpoint URLs may be dynamic"}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["At SAP, the run-time discovery of dynamic metadata (system-installation) is handled by the ",(0,n.jsx)(t.a,{href:"/specification/introduction#unified-customer-landscape",children:"Unified Customer Landscape"})," in BTP."]}),"\n",(0,n.jsx)(t.h3,{id:"system-independent-perspective",children:"System Independent Perspective"}),"\n",(0,n.jsxs)(t.p,{children:["Some ORD information like Taxonomies, Products and Vendors are not dependent on systems and can use the ",(0,n.jsx)(t.code,{children:"system-independent"})," perspective.\nThey can be considered global, static content that can be shared by multiple systems."]}),"\n",(0,n.jsx)(t.p,{children:'Such content is of a "singleton" quality for the whole ORD aggregator and SHOULD not be republished by the individual systems.'}),"\n",(0,n.jsx)(t.h3,{id:"how-perspectives-relate-to-each-other",children:"How Perspectives relate to each other"}),"\n",(0,n.jsx)(t.p,{children:"The dynamic perspective is a more precise description of the system instance than the static perspective, as it can contain its customizations.\nIf no dynamic perspective has been published for a system instance, the static perspective can be used as the fallback.\nThe system"}),"\n",(0,n.jsx)(t.p,{children:"This is depicted in the following diagram:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Perspectives to Relation",src:s(3210).A+"",title:"Perspectives Relation"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"system-instance"})," perspective is the most specific, because a consumer could ask how a particular system instance / tenant really looks like. If there is system-instance metadata for it, we can return it directly.\nIf we don't have it, we need to fall back to the ",(0,n.jsx)(t.code,{children:"system-version"})," layer and instead return the metadata for the version of the system instance."]}),"\n",(0,n.jsxs)(t.p,{children:['If we don\'t know the version of a system, we can introduce a "virtual" ',(0,n.jsx)(t.code,{children:"system-type"})," perspective that doesn't have to be explicitly published.\nThe aggregator can treat the latest ",(0,n.jsx)(t.code,{children:"system-version"})," as the ",(0,n.jsx)(t.code,{children:"system-type"})," perspective and return it to represent the system type overall."]}),"\n",(0,n.jsx)(t.p,{children:"A consumer can legitimately be interested in all three levels, but he needs to provide a different context for each:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["If ",(0,n.jsx)(t.code,{children:"system-instance"})," metadata is requested, the tenant / system instance ID needs to be specified"]}),"\n",(0,n.jsxs)(t.li,{children:["If ",(0,n.jsx)(t.code,{children:"system-version"})," metadata is requested, the system type and system version must be specified."]}),"\n",(0,n.jsxs)(t.li,{children:["If ",(0,n.jsx)(t.code,{children:"system-type"})," metadata is requested, only the system type must be specified and the latest system version is returned."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"relation-to-system-instance-aware",children:"Relation to system instance aware"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"perspectives"})," attribute deprecates the ",(0,n.jsx)(t.code,{children:"systemInstanceAware"})," attribute."]}),"\n",(0,n.jsxs)(t.p,{children:["With ",(0,n.jsx)(t.code,{children:"systemInstanceAware"})," it was already possible to define whether metadata was dynamic (different per system instance) or not.\nBut the concept did not allow to describe the same resource in different perspectives and also did not define how the perspectives build upon each other."]}),"\n",(0,n.jsx)(t.h2,{id:"ord-provider-considerations",children:"ORD Provider Considerations"}),"\n",(0,n.jsx)(t.p,{children:"The following diagram gives an overview which perspectives need to be described by an ORD Provider:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Perspectives to Provide",src:s(7534).A+"",title:"Perspectives to Provide"})}),"\n",(0,n.jsxs)(t.p,{children:["If the system has only static metadata, it should explicitly use the ",(0,n.jsx)(t.code,{children:"system-version"})," perspective and state its version (",(0,n.jsx)(t.code,{children:"describedSystemVersion"}),").\nIf the system has dynamic metadata, it should describe both perspectives completely, if possible."]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["\u23e9 See also: ",(0,n.jsx)(t.a,{href:"/specification/spec-v1/#correct-use-of-perspectives",children:"Correct Use of Perspectives"}),"."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"ord-aggregator-considerations",children:"ORD Aggregator Considerations"}),"\n",(0,n.jsx)(t.h4,{id:"static-aggregators",children:"Static Aggregators"}),"\n",(0,n.jsxs)(t.p,{children:["Static aggregators only describe the ",(0,n.jsx)(t.code,{children:"system-version"})," perspective."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["If both perspectives are described, it MUST only pick the ",(0,n.jsx)(t.code,{children:"system-version"})," perspective"]}),"\n",(0,n.jsxs)(t.li,{children:["If only ",(0,n.jsx)(t.code,{children:"system-instance"})," (or unspecified) perspective is available, we assume this is a generic system instance which is meant to describe all system instances as a subsidiary"]}),"\n"]}),"\n",(0,n.jsx)(t.h4,{id:"dynamic-aggregators",children:"Dynamic Aggregators"}),"\n",(0,n.jsx)(t.p,{children:"If the aggregator supports both static and dynamic perspectives:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The ORD aggregator that to be able to aggregate and store both perspectives at the same time."}),"\n",(0,n.jsx)(t.li,{children:"In its ORD Service API for consumers, it needs to implement the inheritance / fallback behavior."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["If the ",(0,n.jsx)(t.code,{children:"system-version"})," perspective is used, the described version MUST be provided via the ORD ",(0,n.jsx)(t.code,{children:"describedSystemVersion"}),".",(0,n.jsx)(t.code,{children:"version"})," property.\nIdeally, ORD providers SHOULD define the ",(0,n.jsx)(t.code,{children:"describedSystemVersion"}),".",(0,n.jsx)(t.code,{children:"version"})," property on both the static and the dynamic perspective."]}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"version"}),' becomes effectively the "join" criteria how the dynamic metadata is associated to the static metadata.']}),"\n",(0,n.jsx)(t.p,{children:"Some addition considerations that need to be looked into:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["An older version of an application / service can have a resource which has been decommissioned (via a ",(0,n.jsx)(t.code,{children:"Tombstone"}),") in a newer version.","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The inheritance / fallback logic MUST not fall back to the now removed resource."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);